<div class="dashboard-container">
  <nav class="dashboard-tabs">
    <button (click)="goToOtherPage()">Search for rides</button>
    <button 
      [class.active]="activeTab === 'create'"
      (click)="setActiveTab('create')">
      Create New Ride
    </button>
    <button 
      [class.active]="activeTab === 'myRides'"
      (click)="setActiveTab('myRides')">
      My Rides
    </button>
    <button 
      [class.active]="activeTab === 'requests'"
      (click)="setActiveTab('requests')">
      Requests
    </button>
  </nav>

  <div class="dashboard-content" [ngSwitch]="activeTab">
    <div *ngSwitchCase="'create'">
      <div class="create-ride-form">
        <h2>Create New Ride</h2>
        <form [formGroup]="createRideForm" (ngSubmit)="onSubmit()">
          <div class="form-group">
            <label for="from">From:</label>
            <input id="from" 
                   type="text" 
                   formControlName="from" 
                   required
                   [class.is-invalid]="createRideForm.get('from')?.invalid && createRideForm.get('from')?.touched">
            <div class="error-message" *ngIf="createRideForm.get('from')?.invalid && createRideForm.get('from')?.touched">
              Please enter a starting location
            </div>
          </div>

          <div class="form-group">
            <label for="to">To:</label>
            <input id="to" 
                   type="text" 
                   formControlName="to" 
                   required
                   [class.is-invalid]="createRideForm.get('to')?.invalid && createRideForm.get('to')?.touched">
            <div class="error-message" *ngIf="createRideForm.get('to')?.invalid && createRideForm.get('to')?.touched">
              Please enter a destination
            </div>
          </div>

          <div class="form-group">
            <label for="date">Date:</label>
            <input id="date" 
                   type="date" 
                   formControlName="date" 
                   required
                   [class.is-invalid]="createRideForm.get('date')?.invalid && createRideForm.get('date')?.touched">
            <div class="error-message" *ngIf="createRideForm.get('date')?.invalid && createRideForm.get('date')?.touched">
              Please select a date
            </div>
          </div>

          <div class="form-group">
            <label for="time">Time:</label>
            <input id="time" 
                   type="time" 
                   formControlName="time" 
                   required
                   [class.is-invalid]="createRideForm.get('time')?.invalid && createRideForm.get('time')?.touched">
            <div class="error-message" *ngIf="createRideForm.get('time')?.invalid && createRideForm.get('time')?.touched">
              Please select a time
            </div>
          </div>

          <div class="form-group">
            <label for="seats">Available Seats:</label>
            <input id="seats" 
                   type="number" 
                   formControlName="seats" 
                   min="1" 
                   required
                   [class.is-invalid]="createRideForm.get('seats')?.invalid && createRideForm.get('seats')?.touched">
            <div class="error-message" *ngIf="createRideForm.get('seats')?.invalid && createRideForm.get('seats')?.touched">
              <span *ngIf="createRideForm.get('seats')?.hasError('required')">Please enter the number of seats</span>
              <span *ngIf="createRideForm.get('seats')?.hasError('min')">At least one seat must be available</span>
            </div>
          </div>

          <button type="submit" [disabled]="!createRideForm.valid">Create Ride</button>
        </form>
      </div>
    </div>
    <div *ngSwitchCase="'myRides'">
      <app-my-rides></app-my-rides>
    </div>
    <div *ngSwitchCase="'requests'">
      <app-ride-requests></app-ride-requests>
    </div>
  </div>
</div>