<div class="dashboard-container">
  <nav class="dashboard-tabs">
    <button 
      [class.active]="activeTab === 'create'"
      (click)="setActiveTab('create')">
      Neue Fahrt erstellen
    </button>
    <button 
      [class.active]="activeTab === 'myRides'"
      (click)="setActiveTab('myRides')">
      Meine Fahrten
    </button>
    <button 
      [class.active]="activeTab === 'requests'"
      (click)="setActiveTab('requests')">
      Anfragen
    </button>
  </nav>

  <div class="dashboard-content" [ngSwitch]="activeTab">
    <div *ngSwitchCase="'create'">
      <div class="create-ride-form">
        <h2>Neue Fahrt erstellen</h2>
        <form [formGroup]="createRideForm" (ngSubmit)="onSubmit()">
          <div class="form-group">
            <label for="from">Von:</label>
            <input id="from" 
                   type="text" 
                   formControlName="from" 
                   required
                   [class.is-invalid]="createRideForm.get('from')?.invalid && createRideForm.get('from')?.touched">
            <div class="error-message" *ngIf="createRideForm.get('from')?.invalid && createRideForm.get('from')?.touched">
              Bitte geben Sie einen Startort an
            </div>
          </div>

          <div class="form-group">
            <label for="to">Nach:</label>
            <input id="to" 
                   type="text" 
                   formControlName="to" 
                   required
                   [class.is-invalid]="createRideForm.get('to')?.invalid && createRideForm.get('to')?.touched">
            <div class="error-message" *ngIf="createRideForm.get('to')?.invalid && createRideForm.get('to')?.touched">
              Bitte geben Sie einen Zielort an
            </div>
          </div>

          <div class="form-group">
            <label for="date">Datum:</label>
            <input id="date" 
                   type="date" 
                   formControlName="date" 
                   required
                   [class.is-invalid]="createRideForm.get('date')?.invalid && createRideForm.get('date')?.touched">
            <div class="error-message" *ngIf="createRideForm.get('date')?.invalid && createRideForm.get('date')?.touched">
              Bitte wählen Sie ein Datum
            </div>
          </div>

          <div class="form-group">
            <label for="time">Uhrzeit:</label>
            <input id="time" 
                   type="time" 
                   formControlName="time" 
                   required
                   [class.is-invalid]="createRideForm.get('time')?.invalid && createRideForm.get('time')?.touched">
            <div class="error-message" *ngIf="createRideForm.get('time')?.invalid && createRideForm.get('time')?.touched">
              Bitte wählen Sie eine Uhrzeit
            </div>
          </div>

          <div class="form-group">
            <label for="seats">Verfügbare Plätze:</label>
            <input id="seats" 
                   type="number" 
                   formControlName="seats" 
                   min="1" 
                   required
                   [class.is-invalid]="createRideForm.get('seats')?.invalid && createRideForm.get('seats')?.touched">
            <div class="error-message" *ngIf="createRideForm.get('seats')?.invalid && createRideForm.get('seats')?.touched">
              <span *ngIf="createRideForm.get('seats')?.hasError('required')">Bitte geben Sie die Anzahl der Plätze an</span>
              <span *ngIf="createRideForm.get('seats')?.hasError('min')">Mindestens ein Platz muss verfügbar sein</span>
            </div>
          </div>

          <button type="submit" [disabled]="!createRideForm.valid">Fahrt erstellen</button>
        </form>
      </div>
    </div>
    <div *ngSwitchCase="'myRides'">
      <app-my-rides></app-my-rides>
    </div>
    <div *ngSwitchCase="'requests'">
      <app-ride-requests></app-ride-requests>
    </div>
  </div>
</div>