<div class="requests-container">
  <div *ngIf="loading" class="loading">
    Anfragen werden geladen...
  </div>

  <div *ngIf="error" class="error">
    {{ error }}
  </div>

  <div *ngIf="!loading && !error">
    <!-- Incoming Requests -->
    <section class="requests-section">
      <h2>Eingehende Anfragen</h2>
      <div *ngIf="openRequests.length === 0" class="no-requests">
        Keine offenen Anfragen vorhanden.
      </div>
      <div class="request-list">
        <div *ngFor="let request of openRequests" class="request-card">
          <div class="request-info">
            <h3>Anfrage von {{ request.user.name }}</h3>
            <p>Fahrt: {{ request.ride.departure_location }} → {{ request.ride.destination_location }}</p>
            <p>Datum: {{ request.ride.departure_time | date:'dd.MM.yyyy HH:mm' }} Uhr</p>
          </div>
          <div class="request-actions">
            <button (click)="handleRequest(request.id, 'accept')" class="accept">
              Akzeptieren
            </button>
            <button (click)="handleRequest(request.id, 'reject')" class="reject">
              Ablehnen
            </button>
          </div>
        </div>
      </div>
    </section>

    <!-- My Sent Requests -->
    <section class="requests-section">
      <h2>Meine Anfragen</h2>
      <div *ngIf="myRequests.length === 0" class="no-requests">
        Keine gesendeten Anfragen vorhanden.
      </div>
      <div class="request-list">
        <div *ngFor="let request of myRequests" class="request-card">
          <div class="request-info">
            <h3>Fahrt: {{ request.ride.departure_location }} → {{ request.ride.destination_location }}</h3>
            <p>Datum: {{ request.ride.departure_time | date:'dd.MM.yyyy HH:mm' }} Uhr</p>
            <p>Status: {{ request.status === 'pending' ? 'Ausstehend' : 
                         request.status === 'accepted' ? 'Akzeptiert' : 'Abgelehnt' }}</p>
          </div>
        </div>
      </div>
    </section>
  </div>
</div>